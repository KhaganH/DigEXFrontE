<!DOCTYPE html>
<html lang="az" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="~{fragments/seller-layout :: head('Profil')}"></head>

<body>
    <div class="seller-container">
        <!-- Sidebar -->
        <div th:replace="~{fragments/seller-layout :: sidebar('profile')}"></div>

        <!-- Main Content -->
        <div class="seller-content">
            <!-- Main Content Area -->
            <div class="seller-main">
                <!-- Alerts -->
                <div th:replace="~{fragments/seller-layout :: alerts}"></div>
                
                <!-- Page Header -->
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div>
                        <h2 class="mb-1">
                            <i class="bi bi-person-circle me-2 text-primary"></i>Profil
                        </h2>
                        <p class="text-muted mb-0">Profil məlumatlarınızı və mağaza tənzimləmələrini idarə edin</p>
                    </div>
                </div>

                <div class="row">
                    <!-- Profile Information -->
                    <div class="col-lg-8 col-12">
                        <!-- Personal Information -->
                        <div class="card mb-4">
                            <div class="card-header">
                                <h5 class="mb-0">
                                    <i class="bi bi-person me-2"></i>Şəxsi Məlumatlar
                                </h5>
                            </div>
                            <div class="card-body">
                                <form action="/seller/profile/update" method="post">
                                    <input type="hidden" name="_csrf" th:if="${_csrf}" th:value="${_csrf.token}" />
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="firstName" class="form-label">Ad</label>
                                            <input type="text" class="form-control" id="firstName" name="firstName" 
                                                   th:value="${seller.firstName}">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="lastName" class="form-label">Soyad</label>
                                            <input type="text" class="form-control" id="lastName" name="lastName" 
                                                   th:value="${seller.lastName}">
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="username" class="form-label">İstifadəçi Adı</label>
                                            <input type="text" class="form-control" id="username" name="username" 
                                                   th:value="${seller.username}" readonly>
                                            <small class="form-text text-muted">İstifadəçi adı dəyişdirilə bilməz</small>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="email" class="form-label">E-mail</label>
                                            <input type="email" class="form-control" id="email" name="email" 
                                                   th:value="${seller.email}" required>
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="phone" class="form-label">Telefon</label>
                                            <input type="tel" class="form-control" id="phone" name="phone" 
                                                   th:value="${seller.phone}">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="birthDate" class="form-label">Doğum Tarixi</label>
                                            <input type="date" class="form-control" id="birthDate" name="birthDate">
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="bio" class="form-label">Haqqında</label>
                                        <textarea class="form-control" id="bio" name="bio" rows="3" 
                                                  placeholder="Özünüz haqqında qısa məlumat..." maxlength="500"></textarea>
                                        <small class="form-text text-muted">Maksimum 500 karakter</small>
                                    </div>
                                    
                                    <button type="submit" class="btn btn-primary">
                                        <i class="bi bi-check-circle me-2"></i>Dəyişiklikləri Saxla
                                    </button>
                                </form>
                            </div>
                        </div>

                        <!-- Store Information -->
                        <div class="card mb-4">
                            <div class="card-header">
                                <h5 class="mb-0">
                                    <i class="bi bi-shop me-2"></i>Mağaza Məlumatları
                                </h5>
                            </div>
                            <div class="card-body">
                                <form action="/seller/store/update" method="post">
                                    <input type="hidden" name="_csrf" th:if="${_csrf}" th:value="${_csrf.token}" />
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-8">
                                            <label for="storeName" class="form-label">Mağaza Adı</label>
                                            <input type="text" class="form-control" id="storeName" name="storeName" 
                                                   th:value="${seller.storeName}" required>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="storeStatus" class="form-label">Status</label>
                                            <select class="form-select" id="storeStatus" name="storeStatus">
                                                <option value="active">Aktiv</option>
                                                <option value="inactive">Deaktiv</option>
                                                <option value="vacation">Məzuniyyət</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="storeDescription" class="form-label">Mağaza Təsviri</label>
                                        <textarea class="form-control" id="storeDescription" name="storeDescription" 
                                                  rows="4" th:text="${seller.storeDescription}" maxlength="1000"></textarea>
                                        <small class="form-text text-muted">Maksimum 1000 karakter</small>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="storePhone" class="form-label">Mağaza Telefonu</label>
                                            <input type="tel" class="form-control" id="storePhone" name="storePhone">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="storeEmail" class="form-label">Mağaza E-maili</label>
                                            <input type="email" class="form-control" id="storeEmail" name="storeEmail">
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="storeAddress" class="form-label">Ünvan</label>
                                        <textarea class="form-control" id="storeAddress" name="storeAddress" 
                                                  rows="2" placeholder="Mağaza ünvanınız..."></textarea>
                                    </div>
                                    
                                    <button type="submit" class="btn btn-success">
                                        <i class="bi bi-shop-window me-2"></i>Mağaza Məlumatlarını Saxla
                                    </button>
                                </form>
                            </div>
                        </div>

                        <!-- Payment Information -->
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">
                                    <i class="bi bi-credit-card me-2"></i>Ödəniş Məlumatları
                                </h5>
                            </div>
                            <div class="card-body">
                                <form action="/seller/payment/update" method="post">
                                    <input type="hidden" name="_csrf" th:if="${_csrf}" th:value="${_csrf.token}" />
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="bankName" class="form-label">Bank Adı</label>
                                            <select class="form-select" id="bankName" name="bankName">
                                                <option value="">Bank seçin...</option>
                                                <option value="kapital">Kapital Bank</option>
                                                <option value="isbank">Isbank</option>
                                                <option value="rabitebank">Rabitə Bank</option>
                                                <option value="accessbank">Access Bank</option>
                                                <option value="abbank">AB Bank</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="accountNumber" class="form-label">Hesab Nömrəsi</label>
                                            <input type="text" class="form-control" id="accountNumber" name="accountNumber" 
                                                   placeholder="AZ21NABZ00000000137010001944">
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="accountHolder" class="form-label">Hesab Sahibi</label>
                                            <input type="text" class="form-control" id="accountHolder" name="accountHolder">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="idNumber" class="form-label">Şəxsiyyət Vəsiqəsi</label>
                                            <input type="text" class="form-control" id="idNumber" name="idNumber" 
                                                   placeholder="1234567">
                                        </div>
                                    </div>
                                    
                                    <div class="alert alert-info">
                                        <i class="bi bi-info-circle me-2"></i>
                                        <strong>Qeyd:</strong> Ödəniş məlumatları təhlükəsizlik üçün şifrələnərək saxlanılır. 
                                        Gəlirlər hər həftə sonu bank hesabınıza köçürülür.
                                    </div>
                                    
                                    <button type="submit" class="btn btn-warning">
                                        <i class="bi bi-credit-card me-2"></i>Ödəniş Məlumatlarını Saxla
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Profile Sidebar -->
                    <div class="col-lg-4 col-12">
                        <!-- Profile Card -->
                        <div class="card mb-4">
                            <div class="card-body text-center">
                                <div class="profile-avatar mb-3">
                                    <img src="/images/default-avatar.png" alt="Profile" class="rounded-circle" 
                                         style="width: 120px; height: 120px; object-fit: cover; border: 4px solid #0d6efd;">
                                </div>
                                <h5 th:text="${seller.username}">Username</h5>
                                <p class="text-muted" th:text="${seller.storeName}">Mağaza Adı</p>
                                <div class="d-flex justify-content-center gap-3 mb-3">
                                    <div class="text-center">
                                        <div class="fw-bold text-primary">4.8</div>
                                        <small class="text-muted">Reytinq</small>
                                    </div>
                                    <div class="text-center">
                                        <div class="fw-bold text-success">₼524</div>
                                        <small class="text-muted">Gəlir</small>
                                    </div>
                                    <div class="text-center">
                                        <div class="fw-bold text-info">45</div>
                                        <small class="text-muted">Satış</small>
                                    </div>
                                </div>
                                <button class="btn btn-outline-primary btn-sm">
                                    <i class="bi bi-camera me-1"></i>Şəkil Dəyişdir
                                </button>
                            </div>
                        </div>

                        <!-- Account Stats -->
                        <div class="card mb-4">
                            <div class="card-header">
                                <h6 class="mb-0">
                                    <i class="bi bi-graph-up me-2"></i>Hesab Statistikası
                                </h6>
                            </div>
                            <div class="card-body">
                                <div class="stat-item d-flex justify-content-between mb-3">
                                    <span>Üzv olma tarixi:</span>
                                    <span class="fw-bold" th:text="${#temporals.format(seller.createdAt, 'dd.MM.yyyy')}">01.01.2024</span>
                                </div>
                                <div class="stat-item d-flex justify-content-between mb-3">
                                    <span>Son giriş:</span>
                                    <span class="fw-bold">İndi</span>
                                </div>
                                <div class="stat-item d-flex justify-content-between mb-3">
                                    <span>Aktiv məhsullar:</span>
                                    <span class="fw-bold text-success">12</span>
                                </div>
                                <div class="stat-item d-flex justify-content-between mb-3">
                                    <span>Ümumi satış:</span>
                                    <span class="fw-bold text-primary">45</span>
                                </div>
                                <div class="stat-item d-flex justify-content-between">
                                    <span>Balans:</span>
                                    <span class="fw-bold text-warning" th:text="'₼' + ${seller.balance}">₼124.50</span>
                                </div>
                            </div>
                        </div>

                        <!-- Verification Status -->
                        <div class="card mb-4">
                            <div class="card-header">
                                <h6 class="mb-0">
                                    <i class="bi bi-shield-check me-2"></i>Təsdiq Statusu
                                </h6>
                            </div>
                            <div class="card-body">
                                <div class="verification-item d-flex justify-content-between align-items-center mb-3">
                                    <div>
                                        <i class="bi bi-envelope-check text-success me-2"></i>
                                        <span>E-mail</span>
                                    </div>
                                    <span class="badge bg-success">Təsdiqlənib</span>
                                </div>
                                <div class="verification-item d-flex justify-content-between align-items-center mb-3">
                                    <div>
                                        <i class="bi bi-phone-check text-success me-2"></i>
                                        <span>Telefon</span>
                                    </div>
                                    <span class="badge bg-success">Təsdiqlənib</span>
                                </div>
                                <div class="verification-item d-flex justify-content-between align-items-center mb-3">
                                    <div>
                                        <i class="bi bi-person-check text-warning me-2"></i>
                                        <span>Şəxsiyyət</span>
                                    </div>
                                    <span class="badge bg-warning">Gözləyir</span>
                                </div>
                                <div class="verification-item d-flex justify-content-between align-items-center">
                                    <div>
                                        <i class="bi bi-bank text-secondary me-2"></i>
                                        <span>Bank Hesabı</span>
                                    </div>
                                    <span class="badge bg-secondary">Təsdiq Lazım</span>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="card">
                            <div class="card-header">
                                <h6 class="mb-0">
                                    <i class="bi bi-lightning me-2"></i>Tez Əməliyyatlar
                                </h6>
                            </div>
                            <div class="card-body">
                                <div class="d-grid gap-2">
                                    <a href="/seller/products/new" class="btn btn-primary btn-sm">
                                        <i class="bi bi-plus-circle me-2"></i>Yeni Məhsul
                                    </a>
                                    <a href="/seller/earnings" class="btn btn-success btn-sm">
                                        <i class="bi bi-cash-stack me-2"></i>Gəlirlərim
                                    </a>
                                    <a href="/seller/settings" class="btn btn-secondary btn-sm">
                                        <i class="bi bi-gear me-2"></i>Tənzimləmələr
                                    </a>
                                    <a href="/support" class="btn btn-outline-primary btn-sm">
                                        <i class="bi bi-question-circle me-2"></i>Dəstək
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Include Scripts -->
    <div th:replace="~{fragments/seller-layout :: scripts}"></div>
</body>
</html> 